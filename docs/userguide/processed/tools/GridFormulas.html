<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><!-- InstanceBegin template="/Templates/mcv_guide.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>Description of Formulas</title>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="head" -->
<!-- InstanceEndEditable -->
<link rel="stylesheet" href="/mcidas/doc/mcv_guide/mcidasv.css" charset="ISO-8859-1" type="text/css">
<!-- InstanceBeginEditable name="CurrentFile" -->
<script language="javascript" type="text/javascript">
function setParentPage() { if (parent.setPage) parent.setPage('tools/ImageFilterFormulas.html',true); }
</script>
<!-- InstanceEndEditable -->
<style type="text/css">
<!--
.style1 {font-size: large;}
.style2 {font-size: small;}
-->
</style>
</head>
<body onLoad="setParentPage();">
<div class="TopTitleNav">
  <p class="style2" style="text-align:left; "> 
  	[<!-- InstanceBeginEditable name="GoToPrevious" --><a href="Formulas.html">Go to Previous</a><!-- InstanceEndEditable -->]
	<span style="padding-left: 15px; "> 
	[<!-- InstanceBeginEditable name="GoToNext" --><a href="ImageFilterFormulas.html">Go to Next</a><!-- InstanceEndEditable -->] 
	</span> </p>
  <hr align="center">
</div>
<!-- InstanceBeginEditable name="MainContent" -->
<div class="pagetitle">Discription of Formulas - Grids </div>
<p>The follow describes each formula included in the Grids Formulas section
  of McIDAS-V.</p>
<br>
<p><strong>Define a grid diagnostic  (gddiag)</strong></p>
<p>This formula lets you define a grid diagnostic to perform. </p>
<table>
  <tr>
  <td valign="top" rowspan="1" colspan="3">
   <p>Input parameters: </p>
   </td>
  </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>gddiag</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top" nowrap>
   <p>grid diagnostic. For more information see the Grid Diagnostics section
     of the <a href="JythonLib.html">Jython
     Library</a>. </p>
   </td>
   </tr>
</table>
<p><strong>Find latitude of grid points  (fieldimpl)</strong></p>
<p>This formula obtains the latitude coordinate from the grid and returns a grid
  of the latitudes at each point.</p>
<br>
<p><strong>Horizontal Advection (from %N1% &amp; %N2%) (scalar parameter, U Component,
    V Component)</strong></p>
<p>This formula calculates horizontal advection from U and V components.</p>
  <table>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Input parameters: </p>
   </td>
  </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>scalar</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top" nowrap>
   <p>scalar parameter</p>
   </td>
   </tr>
</table>
<p><strong>Horizontal Flux Divergence (from %N1% &amp; %N2%) (scalar parameter, U
    Component, V Component) </strong></p>
<p>This formula calculates horizontal flux divergence from U and V components.</p>
<table>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Input parameters: </p>
   </td>
  </tr>
  <tr>
<td valign="top" rowspan="1" colspan="1" width="70">
<p><em>scalar</em></p>
</td>
<td valign="top" rowspan="1" colspan="2" width="660">
<p>scalar parameter </p>
</td>
</tr>
</table>
<p><strong>Layer Difference (Top of Layer, Bottom of Layer) </strong></p>
<p>This formula calculates a layer difference between a field at two different
  levels.</p>
<br>
  <p><strong>Layer Wind Shear  (top, bottom)</strong></p>
<p>This formula calculates the wind shear between discreet layers.</p>
    <table>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Input parameters: </p>
   </td>
  </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>top</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top" nowrap>
   <p>top layer  (default=500)</p>
   </td>
   </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>bottom</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top">
   <p>bottom layer  (default=850)</p>
   </td>
   </tr>
</table>
<p><strong>Make flow vectors from grid relative u and v data  (u, v)</strong></p>
<p>This formula calculates true wind vectors.</p>
<br>
  <p><strong>Make flow vectors from u and v data  (u, v)</strong></p>
<p>This formula applies a two-dimensional
  low-pass filter to each element in the source image. It eliminates high-frequency
  deviations by replacing the source image data values with the average of the
  values in the sample defined with the line and element coefficients.</p>
    <table>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Input parameters: </p>
   </td>
  </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>linecoef</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top" nowrap>
   <p>line coefficient; 0.0 &lt; <em>linecoef</em> &lt; 1.0 (default=0.5)</p>
   </td>
   </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>elecoef</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top">
   <p>element coefficient; 0.0 &lt; <em>elecoef</em> &lt; 1.0 (default=<em>linecoef</em>)</p>
   </td>
   </tr>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Equation for each <em>ddataset</em> element: </p>
   </td>
  </tr>
  <tr>
<td valign="top" rowspan="1" colspan="1">
<p class="CellBody"><a name="pgfId-1072405" id="pgfId-1072405"></a>&nbsp;</p>
</td>
<td valign="top" rowspan="1" colspan="2">
<p><em>ddataset</em> = (sample average)</p>
</td>
</tr>
</table>
<p><strong>Make flow vectors from u, v, and w data  (u, v, w)</strong></p>
<p>This formula applies a one-dimensional
  low-pass filter to each element of the source image. It eliminates high-frequency
  deviations by replacing the source image data values with the average of the
  values on either side of the source element. The sample average is determined
  using the percentage of filter efficiency.</p>
      <table>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Input parameters: </p>
   </td>
  </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>radius</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top" nowrap>
   <p>sample length in pixels surrounding the source element; used for sample
     average (default=50)</p>
   </td>
   </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>leak</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top">
   <p>filter efficiency (default=100)</p>
   </td>
   </tr>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Equation for each <em>ddataset</em> element: </p>
   </td>
  </tr>
  <tr>
<td valign="top" rowspan="1" colspan="1">
<p class="CellBody"><a name="pgfId-1072405" id="pgfId-1072405"></a>&nbsp;</p>
</td>
<td valign="top" rowspan="1" colspan="2">
<p><em>ddataset</em> = (sample average)</p>
</td>
</tr>
</table>
<p><strong>Make slice 2D (slice)</strong></p>
<p>This formula makes a 2D slice from a 3D slice at a single level.</p>
<br>
<p><strong>One value colored by another (Data field, Color field)</strong></p>
<p>This formula combines several fields together, coloring one field by another.</p>
<br>
<p><strong>Resample grid</strong></p>
<p>This formula displays gridded data on a new domain.</p>
<br>
<p><strong>Simple time difference in one parameter (Time 1, Time 2)</strong></p>
<p>This formula gets the Nth grid in the time series of grids.</p>
    <table>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Input parameters: </p>
   </td>
  </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>Time 1 </em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top" nowrap>
   <p>first time  (default=1)</p>
   </td>
   </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>Time 2 </em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top">
   <p>second time  (default=0)</p>
   </td>
   </tr>
</table>
<p><strong>Slice at Altitude  (Altitude, Unit)</strong></p>
<p>This formula extracts a 2D horizontal slice from a 3D grid at the given altitude.</p>
    <table>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Input parameters: </p>
   </td>
  </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>altitude</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top" nowrap>
   <p>altitude to slice</p>
   </td>
   </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>unit</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top">
   <p>specify a unit. It must be compatible with meters (ft, fathoms, etc.) </p>
   </td>
   </tr>
</table>
<p><strong>Slice at Level  (Level)</strong></p>
<p>This formula extracts a 2D horizontal slice from a 3D grid at a level.</p>
    <table>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Input parameter: </p>
   </td>
  </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>level</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top">
   <p>level to slice, must be appropriate for the grid </p>
   </td>
   </tr>
</table>
<p><strong>Speed from two components  (x, y)</strong></p>
<p>This formula cleans an image
  by applying a shot noise filter to each element in the source image. Each element
  is compared to the elements on either side and replaced if the values are significantly
  different.</p>
    <table>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Input parameters: </p>
   </td>
  </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>bline</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top" nowrap>
   <p>beginning line in the source image to clean (default=first line)</p>
   </td>
   </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>eline</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top">
   <p>ending line in the source image to clean (default=last line)</p>
   </td>
   </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top"><p><em>pdiff</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top">
   <p>maximum percentage of the product range to allow before a new value for
     the pixel is derived using the<br>
average of two adjacent pixels (default=15)</p>
   </td>
   </tr>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Equation for each <em>ddataset</em> element: </p>
   </td>
  </tr>
  <tr>
<td valign="top" rowspan="1" colspan="1">
<p class="CellBody"><a name="pgfId-1072405" id="pgfId-1072405"></a>&nbsp;</p>
</td>
<td valign="top" rowspan="1" colspan="2">
<p>if the difference between <em>sdataset</em> and the surrounding elements is &lt; <em>pdiff</em> <br>
then <em>ddataset</em> = <em>sdataset</em><br>
else <em>ddataset</em> = (average of the surrounding <em>sdataset</em> element values) </p>
</td>
</tr>
</table>
<p><strong>Wind Shear Vectors  (top, bottom)</strong></p>
<p>This formula calculates the u and v layer difference and returns a vector.</p>
    <table>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Input parameters: </p>
   </td>
  </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>top</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top" nowrap>
   <p>top layer (default=500)</p>
   </td>
   </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>bottom</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top">
   <p>bottom layer  (default=850)</p>
   </td>
   </tr>
</table>
<br>
<p>A set of Time Steps formulas are also available.</p>
<br>
<p><strong>Average time steps  (field)</strong></p>
<p>This formula averages the values in each time step.</p>
<br>
<p><strong>Difference from initial timestep (D(T)=D(T)-D(0)) (field)</strong></p>
<p>This formula sets the value of each time step N as:</p>
    <table>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>&nbsp;</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top" nowrap>
   <p>D(T) = D(T) - D(0) </p>
   </td>
   </tr>
</table>
<p><strong>Max over time steps (field)</strong></p>
<p>This formula takes the max of the values in each time step.</p>
<br>
<p><strong>Min over time steps (field)</strong></p>
<p>This formula takes the min of the values in each time step.</p>
<br>
<p><strong>Sum over time steps  (field)</strong></p>
<p>This formula takes the sum of the values in each time step.</p>
<br>
<p><strong>Time step difference (D(T)=D(T)-D(T-1))  (field)</strong></p>
<p>This formula sets the value of each time step N as: </p>
    <table>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>&nbsp;</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top" nowrap>
   <p>D(T) = D(T) - D(T-1) </p>
   </td>
   </tr>
</table>
<p><strong>Time step sum (D(T)=D(T)+D(T-1)) (field)</strong></p>
<p>This formula sets the value of each time step N as:</p>
    <table>
  <tr>
  <td valign="top" rowspan="1" colspan="2">
   <p>Input parameters: </p>
   </td>
  </tr>
   <tr>
   <td width="70" colspan="1" rowspan="1" valign="top">
   <p><em>bline</em></p>
   </td>
   <td width="660" colspan="2" rowspan="1" valign="top" nowrap>
   <p>beginning line in the source image to clean (default=first line)</p>
   </td>
   </tr>
</table>
<div class="childlist">
<table width="100%"></table>
</div>
<!-- InstanceEndEditable -->
<div class="BottomTitleNav">
  <hr align="center">
  <p class="style2" style="text-align:left; "> 
  	[<!-- InstanceBeginEditable name="GoToPrevious2" --><a href="Formulas.html">Go to Previous</a><!-- InstanceEndEditable -->] 
	<span style="padding-left: 15px; "> 
	[<!-- InstanceBeginEditable name="GoToNext2" --><a href="ImageFilterFormulas.html">Go to Next</a><!-- InstanceEndEditable -->] 
	</span></p>
</div>
</body>
<!-- InstanceEnd --></html>
