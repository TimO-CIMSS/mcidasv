<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><!-- InstanceBegin template="/Templates/mcv_guide.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>ISL Overview</title>
<!-- InstanceEndEditable -->
<!-- InstanceBeginEditable name="head" -->
<!-- InstanceEndEditable -->
<link rel="stylesheet" href="/mcidas/doc/mcv_guide/mcidasv.css" charset="ISO-8859-1" type="text/css">
<!-- InstanceBeginEditable name="CurrentFile" -->
<script language="javascript" type="text/javascript">
function setParentPage() { if (parent.setPage) parent.setPage('isl/Isl.html',true); }
</script>
<!-- InstanceEndEditable -->
<style type="text/css">
<!--
.style1 {font-size: large;}
.style2 {font-size: small;}
-->
</style>
</head>

<body onLoad="setParentPage();">

<div class="TopTitleNav">	<p align="center" class="style2">
	  [<!-- InstanceBeginEditable name="GoToPrevious" --><a href="index.html">Go to Previous</a><!-- InstanceEndEditable -->]
	  [<!-- InstanceBeginEditable name="GoToNext" --><a href="BasicTags.html">Go to Next</a><!-- InstanceEndEditable -->]
	</p>
<hr align="center"></div>
<!-- InstanceBeginEditable name="MainContent" -->
<div class="pagetitle">ISL Overview</div>
A note: in this documentation required attributes are shown in <strong>bold</strong>.
<div class="pagesubtitle">ISL and XML</div>
Before we start a couple of comments about writing the ISL. ISL files are written in XML and they need to be syntactically correct. A couple of reminders:
<ul>
<li>XML is fully nested. There is only one <em>root</em> tag and all other tags are descendants of the root.</li>
<li>All tags have to be closed. Either do:</li>
<li style="list-style: none">
<blockquote>
<pre>
&lt;sometag/&gt;
</pre></blockquote>
or
<blockquote>
<pre>
&lt;sometag&gt;
    &lt;i&gt;contained tags&lt;/i&gt;
&lt;/sometag&gt;
</pre></blockquote>
</li>
<li>If you want to include special characters like '&lt;', '&gt;' and '"' you need to escape them with: '&amp;lt;', '&amp;gt;', '&amp;quot;'.</li>
<li>You can comment out sections of XML with '&lt;!--' ... '--&gt;'. e.g:</li>
<li style="list-style: none">
<blockquote>
<pre>
   ...
   <span class="xmlcomment">&lt;!-- 
      &lt;sometag/&gt;
   --&gt;</span>
</pre></blockquote>
</li>
</ul>
The ISL file starts with a <a href="BasicTags.html#isl">isl</a> tag:
<blockquote>
<pre>
&lt;<a href="BasicTags.html#isl">isl</a> <span class="xmlattr">debug</span>="true"&gt;
...
ISL tags
...
&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
</pre></blockquote>
If there is a debug="true" in the <em>isl</em> tag then McIDAS-V will print out processing messages.
<p>Here is a simple isl file:</p>
<blockquote>
<pre>
&lt;<a href="BasicTags.html#isl">isl</a>&gt;
    &lt;<a href="ImagesAndMovies.html#image">image</a> <span class="xmlattr">file</span>="test.png"/&gt;
&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
<a href="capture1.isl"><img src="Folder.gif" border="0">capture1.isl</a>
</pre></blockquote>
You can run this by going:
<pre>
runMcV capture1.isl
</pre>
or through the <code class="menu">File-&gt;Open</code> menu from a running McIDAS-V.
<p>Notice when you run this from the command line that no image is created. That is because there are no view windows. We can load in a bundle before we capture the image. Note, if you run this isl file you should have a <em>test.xidv</em> bundle file around.</p>
<blockquote>
<pre>
&lt;<a href="BasicTags.html#isl">isl</a>&gt;
    &lt;<a href="DataAndDisplays.html#bundle">bundle</a> <span class="xmlattr">file</span>="test.xidv"/&gt;
    &lt;<a href="BasicTags.html#pause">pause</a>/&gt;
    &lt;<a href="ImagesAndMovies.html#image">image</a> <span class="xmlattr">file</span>="test.png"/&gt;
&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
<a href="capture2.isl"><img src="Folder.gif" border="0">capture2.isl</a>
</pre></blockquote>
<em>A caveat:</em> Right now McIDAS-V does not gracefully handle when you have a bundle that has more than one view window.
<p>The <a href="BasicTags.html#pause">pause</a> tag has McIDAS-V wait until all displays have been created. The <a href="DataAndDisplays.html#bundle">bundle</a> tag loads in the specified bundle. Note, this file is relative to the directory where McIDAS-V is running. You can provide an absolute path or even a URL as a file:</p>
<blockquote>
<pre>
  &lt;<a href="DataAndDisplays.html#bundle">bundle</a> <span class="xmlattr">file</span>="/some/path/test.xidv"/&gt;
  &lt;<a href="DataAndDisplays.html#bundle">bundle</a> <span class="xmlattr">file</span>="http://www.somesite.edu/test.xidv"/&gt;
</pre></blockquote>
The file for the output image is also relative to where McIDAS-V is running. The type of image that is created is determined by the file suffix. McIDAS-V can generate <em>gif</em>, <em>jpg</em> and <em>png</em>. You can have multiple <a href="ImagesAndMovies.html#image">image</a> tags:
<blockquote>
<pre>
&lt;<a href="BasicTags.html#isl">isl</a>&gt;
    &lt;<a href="DataAndDisplays.html#bundle">bundle</a> <span class="xmlattr">file</span>="test.xidv"/&gt;
    &lt;<a href="BasicTags.html#pause">pause</a>/&gt;
    &lt;<a href="ImagesAndMovies.html#image">image</a> <span class="xmlattr">file</span>="test.png"/&gt;
    &lt;<a href="ImagesAndMovies.html#image">image</a> <span class="xmlattr">file</span>="test.gif"/&gt;
    &lt;<a href="ImagesAndMovies.html#image">image</a> <span class="xmlattr">file</span>="test.jpg"/&gt;
&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
<a href="multi.isl"><img src="Folder.gif" border="0">multi.isl</a>
</pre></blockquote>
The <em>isl</em> tag can have a loop and a sleep argument. The sleep argument is the number of seconds to sleep after each iteration of the loop.
<blockquote>
<pre>
&lt;<a href="BasicTags.html#isl">isl</a> <span class="xmlattr">loop</span>="100" <span class="xmlattr">sleep</span>="600"&gt;
    &lt;<a href="DataAndDisplays.html#bundle">bundle</a> <span class="xmlattr">file</span>="test.xidv"/&gt;
    &lt;<a href="BasicTags.html#pause">pause</a>/&gt;
    &lt;<a href="ImagesAndMovies.html#image">image</a> <span class="xmlattr">file</span>="test.png"/&gt;
&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
<a href="loop.isl"><img src="Folder.gif" border="0">loop.isl</a>
</pre></blockquote>
This will loop through the set of commands 100 times. After each iteration of the loop McIDAS-V will sleep for 10 minutes (600 seconds).
<p>Note: the above loop example will keep writing out to the same image file. We can use the macro expansion facility, described here: <a href="BasicTags.html#property">property</a>, to change the file name every loop iteration:</p>
<blockquote>
<pre>
&lt;<a href="BasicTags.html#isl">isl</a> <span class="xmlattr">loop</span>="100" <span class="xmlattr">sleep</span>="600"&gt;
    &lt;<a href="DataAndDisplays.html#bundle">bundle</a> <span class="xmlattr">file</span>="test.xidv"/&gt;
    &lt;<a href="BasicTags.html#pause">pause</a>/&gt;
    &lt;<a href="ImagesAndMovies.html#image">image</a> <span class="xmlattr">file</span>="test${loopindex}.png"/&gt;
&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
<a href="loop2.isl"><img src="Folder.gif" border="0">loop2.isl</a>
</pre></blockquote>
This will write out the images test0.png, test1.png, test2.png, etc.
<p>One can use <a href="BasicTags.html#group">group</a> tags to hold a set of children tags. There can be any level of nesting. The <em>group</em> tag can also hold a <em>loop</em> and <em>sleep</em> attribute</p>
<blockquote>
<pre>
&lt;<a href="BasicTags.html#isl">isl</a> <span class="xmlattr">loop</span>="100" <span class="xmlattr">sleep</span>="600"&gt;
    &lt;<a href="BasicTags.html#group">group</a> <span class="xmlattr">loop</span>="2" <span class="xmlattr">sleep</span>="60"&gt;
        &lt;<a href="ImagesAndMovies.html#image">image</a> <span class="xmlattr">file</span>="test.png"/&gt;
    &lt;/<a href="BasicTags.html#group">group</a>&gt;
&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
<a href="nested.isl"><img src="Folder.gif" border="0">nested.isl</a>
</pre></blockquote>
<div class="childlist"></div>
<!-- InstanceEndEditable -->
<div class="BottomTitleNav"><hr align="center">
	<p align="center" class="style2">
	  [<!-- InstanceBeginEditable name="GoToPrevious2" --><a href="index.html">Go to Previous</a><!-- InstanceEndEditable -->]
	  [<!-- InstanceBeginEditable name="GoToNext2" --><a href="BasicTags.html">Go to Next</a><!-- InstanceEndEditable -->]
	</p></div>
</body>
<!-- InstanceEnd --></html>
