<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><!-- InstanceBegin template="/Templates/mcv_guide.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>ISL Data and Displays</title>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="head" -->
<!-- InstanceEndEditable -->
<link rel="stylesheet" href="/mcidas/doc/mcv_guide/mcidasv.css" charset="ISO-8859-1" type="text/css">
<!-- InstanceBeginEditable name="CurrentFile" -->
<script language="javascript" type="text/javascript">
function setParentPage() { if (parent.setPage) parent.setPage('isl/DataAndDisplays.html',true); }
</script>
<!-- InstanceEndEditable -->
<style type="text/css">
<!--
.style1 {font-size: large;}
.style2 {font-size: small;}
-->
</style>
</head>
<body onLoad="setParentPage();">
<div class="TopTitleNav">
  <p class="style2" style="text-align:left; "> 
  	[<!-- InstanceBeginEditable name="GoToPrevious" --><a href="FileTags.html">Go to Previous</a><!-- InstanceEndEditable -->]
	<span style="padding-left: 15px; "> 
	[<!-- InstanceBeginEditable name="GoToNext" --><a href="ImagesAndMovies.html">Go to Next</a><!-- InstanceEndEditable -->] 
	</span> </p>
  <hr align="center">
</div>
<!-- InstanceBeginEditable name="MainContent" -->
<div class="pagetitle">ISL Data and Displays</div>
<div class="pagesubsubtitle">&lt;<a name="bundle" id="bundle"></a><em>bundle</em>&gt; Load a bundle
<hr></div>
&lt;bundle
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<strong>file</strong>="bundle file or url"
<br>
&nbsp;&nbsp;&nbsp;&nbsp;width="view window width"
<br>
&nbsp;&nbsp;&nbsp;&nbsp;height="view window height"
<br>
&nbsp;&nbsp;&nbsp;&nbsp;times="List of times to use"
<br>
&nbsp;&nbsp;&nbsp;&nbsp;clear="default is true. remove all existing displays and data"
<br>
&nbsp;&nbsp;&nbsp;&nbsp;wait="default is true. wait until all displays have been rendered." &gt;
<p>The <em>bundle</em> tag lets you load in a new bundle and takes the form:</p>
<blockquote>
<pre>
&lt;<a href="DataAndDisplays.html#bundle">bundle</a> <span class="xmlattr">file</span>="some_bundle_file.xidv"/&gt;
</pre></blockquote>
By default it will remove all currently loaded data and displays. If you want to not clear out the data and displays then add a clear="false" attribute:
<blockquote>
<pre>
&lt;<a href="DataAndDisplays.html#bundle">bundle</a> <span class="xmlattr">file</span>="some_bundle_file.xidv" <span class="xmlattr">clear</span>="false"/&gt;
</pre></blockquote>
<p>The <em>wait</em> attribute, if true (the default), will essentially do a pause, waiting until all displays have been rendered.</p>
<p>The <em>times</em> attribute allows you to override the set of time indices that are used in the data sources in the bundle. Note: this overrides the times for all data sources in the bundle.</p>
<p>The value is a comma separated list of time specifiers where the specifier can be a single time, a time range or a time range with a step. The time indices are 0 based, e.g., the first time index is 0. The time range is of the form "firsttime:lasttime". To specify a step do: "firsttime:lasttime:step"</p>
<p>For example, we have:</p>
<pre>
   times="0"                    -- Just use the first time
   times="2"                    -- Just use the third time
   times="0,1,2"                -- Just use the first 3 times
   times="0:10"                 -- 0 through 10
   times="0:10:2"               -- 0,2,4,6,8,10
   times="0:10:2, 20:30"        -- 0,2,4,6,8,10 20-30
   times="1,2,3,5:11:2,20,30"   -- 1,2 3, 5,7,9,11, 20, 30 
</pre>
<hr>
<div class="pagesubsubtitle">&lt;<a name="setfiles" id="setfiles"></a><em>setfiles</em>&gt; Override the files or urls used in a bundle</div>
&lt;setfiles
<br>
    <strong>datasource</strong>="identifier of the data source"
<br>
    file="new file or url path" &gt;
<p>The bundle tag can contain any number of "setfiles" tags. Each of these setfiles tags has a datasource attribute which is used to find the data source in the bundle by name. There is also a file attribute which defines a file to use for that data source.</p>
<p>e.g.:</p>
<blockquote>
<pre>
&lt;<a href="BasicTags.html#isl">isl</a> <span class="xmlattr">debug</span>="true" <span class="xmlattr">offscreen</span>="false"&gt;
    &lt;<a href="DataAndDisplays.html#bundle">bundle</a> <span class="xmlattr">file</span>="test.xidv"&gt;
         &lt;<a href="DataAndDisplays.html#setfiles">setfiles</a> <span class="xmlattr">datasource</span>=".*" <span class="xmlattr">file</span>="/upc/share/testdata/grid/netcdf/nuwg/ruc.nc"/&gt;
     &lt;/<a href="DataAndDisplays.html#bundle">bundle</a>&gt;
     &lt;<a href="ImagesAndMovies.html#image">image</a> <span class="xmlattr">file</span>="test.png"/&gt;
&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
</pre></blockquote>
The bundle above only has one data source. The:
<pre>
datasource=".*" 
</pre>
identifies the data source by name. In this case it is a regular expression that matches anything. If you had multiple data sources you can change their name before you save the bundle (right click on the data source in the field selector and got to the Properties dialog.) You can then use these names to match. e.g.:
<blockquote>
<pre>
&lt;<a href="BasicTags.html#isl">isl</a> <span class="xmlattr">debug</span>="true" <span class="xmlattr">offscreen</span>="false"&gt;
    &lt;<a href="DataAndDisplays.html#bundle">bundle</a> <span class="xmlattr">file</span>="test.xidv"&gt;
        &lt;<a href="DataAndDisplays.html#setfiles">setfiles</a> <span class="xmlattr">datasource</span>="datasource1" <span class="xmlattr">file</span>="file for first data source"/&gt;
        &lt;<a href="DataAndDisplays.html#setfiles">setfiles</a> <span class="xmlattr">datasource</span>="datasource2" <span class="xmlattr">file</span>="file for 2nd data source"/&gt;
    &lt;/<a href="DataAndDisplays.html#bundle">bundle</a>&gt;
    &lt;<a href="ImagesAndMovies.html#image">image</a> <span class="xmlattr">file</span>="test.png"/&gt;
&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
</pre></blockquote>
If you have a data source with multiple files (e.g., radar) you can use an embedded <a href="FileTags.html#fileset">fileset</a> tag:
<blockquote>
<pre>
&lt;<a href="DataAndDisplays.html#setfiles">setfiles</a> <span class="xmlattr">datasource</span>="datasource1"&gt;
    &lt;<a href="FileTags.html#fileset">fileset</a> <span class="xmlattr">file</span>="some file"/&gt;
    &lt;<a href="FileTags.html#fileset">fileset</a> <span class="xmlattr">file</span>="some other file"/&gt;
     ...
&lt;/<a href="DataAndDisplays.html#setfiles">setfiles</a>&gt;
</pre></blockquote>
<hr>
<div class="pagesubsubtitle">&lt;<a name="datasource" id="datasource"></a><em>datasource</em>&gt; Create a data source</div>
&lt;datasource
<br>
    <strong>url</strong>="url or file name to load"
<br>
    type="data source type" &gt;
<p>The <em>datasource</em> tag lets you create a new data source and takes the form. The <em>url</em> attribute is required and specifies the file or url to load. The <em>type</em> attribute is optional and defines the data source type from the datasources.xml file in the source release. For a text listing see <a href="Datasources.html">Datasources.html</a>. For now you can only specify a data source that takes a single url (or filename). This will change in the future.</p>
<blockquote>
<pre>
&lt;<a href="BasicTags.html#isl">isl</a>&gt;
  &lt;<a href="DataAndDisplays.html#datasource">datasource</a> <span class="xmlattr">url</span>="dods://motherlode.ucar.edu/cgi-bin/dods/DODS-3.2.1/nph-dods/dods/casestudies/idvtest/grids/small_ruc_grid.nc"&gt;
<span class="xmlcomment">&lt;!-- Set the name on the data source  --&gt;</span>
    &lt;<a href="BasicTags.html#property">property</a>
       <span class="xmlattr">name</span>="name"
       <span class="xmlattr">value</span>="the name"/&gt;
  &lt;/<a href="DataAndDisplays.html#datasource">datasource</a>&gt;
&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
<a href="datasource.isl"><img src="Folder.gif" border="0">datasource.isl</a>
</pre></blockquote>
<hr>
<div class="pagesubsubtitle">&lt;<a name="display" id="display"></a><em>display</em>&gt; Create a display</div>
&lt;display
<br>
    <strong>type</strong>="display type"
<br>
    param="parameter name" &gt;
<p>The <em>display</em> tag lets you create a display and can exist on its own:</p>
<blockquote>
<pre>
&lt;<a href="DataAndDisplays.html#display">display</a> <span class="xmlattr">type</span>="somedisplaytype" <span class="xmlattr">param</span>="some_parameter"/&gt;
</pre></blockquote>
or as a child tag of the <a href="DataAndDisplays.html#datasource">datasource</a> tag:
<blockquote>
<pre>
&lt;<a href="BasicTags.html#isl">isl</a>&gt;

<span class="xmlcomment">&lt;!-- Create   a datasource. Note: you can also have a template attribute
     that points to a bundle xidv file that was saved from a data source:
     <span class="xmlattr">bundle</span>="${islpath}/<a href="DataAndDisplays.html#datasource">datasource</a>.xidv"
--&gt;</span>

  &lt;<a href="DataAndDisplays.html#datasource">datasource</a> 
     <span class="xmlattr">url</span>="dods://motherlode.ucar.edu:8080/thredds/dodsC/casestudies/idvtest/grids/small_ruc_grid.nc"
     <span class="xmlattr">id</span>="datasource1"&gt;
<span class="xmlcomment">&lt;!-- Set the name on the data source  --&gt;</span>
    &lt;<a href="BasicTags.html#property">property</a>
       <span class="xmlattr">name</span>="name"
       <span class="xmlattr">value</span>="Example data source"/&gt;
<span class="xmlcomment">&lt;!-- Create a display of RH. Here we load in the display from a template.  --&gt;</span>
<span class="xmlcomment">&lt;!--
    &lt;<a href="DataAndDisplays.html#display">display</a>
       <span class="xmlattr">param</span>="RH" <span class="xmlattr">template</span>="${islpath}/template.xidv"&gt;
      &lt;<a href="BasicTags.html#property">property</a>
         <span class="xmlattr">name</span>="id"
         <span class="xmlattr">value</span>="display1"/&gt;
      &lt;<a href="BasicTags.html#property">property</a>
         <span class="xmlattr">name</span>="displayCategory"
         <span class="xmlattr">value</span>="Category 1"/&gt;
      &lt;<a href="BasicTags.html#property">property</a>
         <span class="xmlattr">name</span>="legendLabelTemplate"
         <span class="xmlattr">value</span>="%datasourcename% - %shortname%"/&gt;
    &lt;/<a href="DataAndDisplays.html#display">display</a>&gt;
--&gt;</span>


<span class="xmlcomment">&lt;!-- Create a display of T. Here we create the display from the type --&gt;</span>
    &lt;<a href="DataAndDisplays.html#display">display</a>
    <span class="xmlattr">type</span>="planviewcontour"
      <span class="xmlattr">param</span>="T"&gt;
      &lt;<a href="BasicTags.html#property">property</a>
         <span class="xmlattr">name</span>="displayCategory"
         <span class="xmlattr">value</span>="Category 1"/&gt;
<span class="xmlcomment">&lt;!--
        The contour info can be set with: interval;base;min;max
              &lt;<a href="BasicTags.html#property">property</a> <span class="xmlattr">name</span>="contourInfoParams" <span class="xmlattr">value</span>="10;40;-30;100"/&gt;
         Or it can have names in it:
--&gt;</span>
      &lt;<a href="BasicTags.html#property">property</a> <span class="xmlattr">name</span>="contourInfoParams" <span class="xmlattr">value</span>="interval=10;base=40;min=-30;max=100;dashed=true;labels=false"/&gt;
      &lt;<a href="BasicTags.html#property">property</a>
         <span class="xmlattr">name</span>="legendLabelTemplate"
         <span class="xmlattr">value</span>="%datasourcename% - %shortname%"/&gt;

<span class="xmlcomment">&lt;!-- This sets the level to be 500 hectopascals --&gt;</span>
<span class="xmlcomment">&lt;!-- Note: this can also be of the form #&lt;index&gt;, eg. #4 will select the 5th level (this is zero based) --&gt;</span>

      &lt;<a href="BasicTags.html#property">property</a>
         <span class="xmlattr">name</span>="dataSelectionLevel"
         <span class="xmlattr">value</span>="500[hectopascals]"/&gt;
    &lt;/<a href="DataAndDisplays.html#display">display</a>&gt;
  &lt;/<a href="DataAndDisplays.html#datasource">datasource</a>&gt;


<span class="xmlcomment">&lt;!-- Set the projection to the data projection  of the display we created above  --&gt;</span>
<span class="xmlcomment">&lt;!--
  &lt;<a href="DataAndDisplays.html#center">center</a>
     <span class="xmlattr">display</span>="display1"
     <span class="xmlattr">useprojection</span>="true"/&gt;
--&gt;</span>

&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
<a href="display.isl"><img src="Folder.gif" border="0">display.isl</a>
</pre>
</blockquote>
The <em>type</em> attribute is one of the display control types defined in the controls.xml file from the source release and is required. For a text listing see <a href="controls.txt">controls.txt</a>.
<p>The <em>param</em> attribute is not required. If specified it is the name of a parameter in either the containing <em>datasource</em> tag or in one of the currently loaded data sources. The <em>display</em> tag will evolve in time to provide a richer set of facilities for setting values on the display.</p>
<hr>
<div class="pagesubsubtitle">&lt;<a name="removedisplays" id="removedisplays"></a><em>removedisplays</em>&gt; Remove all displays</div>
&lt;removedisplays
<br>
    display="display id to remove" &gt;
<p>This removes all current displays. If there is the <em>display</em> attribute set then it removes that display. (<a href="#displayattr">See below</a>).</p>
<blockquote>
<pre>
&lt;<a href="DataAndDisplays.html#removedisplays">removedisplays</a>/&gt;
</pre></blockquote>
<hr>
<div class="pagesubsubtitle">&lt;<a name="removeall" id="removeall"></a><em>removeall</em>&gt; Remove all data and displays</div>
Remove all current data and displays.
<blockquote>
<pre>
&lt;<a href="DataAndDisplays.html#removeall">removeall</a>/&gt;
</pre></blockquote>
<hr>
<div class="pagesubsubtitle">&lt;<a name="reload" id="reload"></a><em>reload</em>&gt; Reload all loaded data</div>
The <em>reload</em> tag tells all of the loaded data sources to reload, resulting in updated displays.
<blockquote>
<pre>
&lt;<a href="DataAndDisplays.html#reload">reload</a>/&gt;
</pre></blockquote>
<hr>
<div class="pagesubsubtitle">&lt;<a name="center" id="center"></a><em>center</em>&gt; Center a display at a lat/lon, or from a display control</div>
&lt;center
<br>
    lat="latitude"
<br>
    lon="longitude"
<br>
    north="latitude"
<br>
    south="latitude"
<br>
    east="longitude"
<br>
    west="longitude"
<br>
    display="display id to center at"
<br>
    useprojection="Use the projection from the display" &gt;
<p>The <em>center</em> tag comes in a number of forms, depending on the attributes:</p>
<blockquote>
<pre>
&lt;<a href="BasicTags.html#isl">isl</a>&gt;
    &lt;<a href="DataAndDisplays.html#bundle">bundle</a> <span class="xmlattr">file</span>="test.xidv"/&gt;
    &lt;<a href="BasicTags.html#pause">pause</a>/&gt;

    &lt;<a href="BasicTags.html#echo">echo</a> <span class="xmlattr">message</span>="Set the projection to be the projection of the first display"/&gt;
    &lt;<a href="DataAndDisplays.html#center">center</a>/&gt;
    &lt;<a href="BasicTags.html#pause">pause</a> <span class="xmlattr">seconds</span>="10"/&gt;

    &lt;<a href="BasicTags.html#echo">echo</a> <span class="xmlattr">message</span>="Center at a point"/&gt;
    &lt;<a href="DataAndDisplays.html#center">center</a> <span class="xmlattr">lat</span>="15" <span class="xmlattr">lon</span>="-65"/&gt;
    &lt;<a href="BasicTags.html#pause">pause</a> <span class="xmlattr">seconds</span>="10"/&gt;

    &lt;<a href="BasicTags.html#echo">echo</a> <span class="xmlattr">message</span>="Set the projection to be the lat/lon box"/&gt;
    &lt;<a href="DataAndDisplays.html#center">center</a> <span class="xmlattr">north</span>="40.0" <span class="xmlattr">south</span>="30" <span class="xmlattr">east</span>="-90" <span class="xmlattr">west</span>="-100"/&gt;
    &lt;<a href="BasicTags.html#pause">pause</a> <span class="xmlattr">seconds</span>="10"/&gt;

    &lt;<a href="BasicTags.html#echo">echo</a> <span class="xmlattr">message</span>="Set the projection from the specified display"/&gt;
    &lt;<a href="DataAndDisplays.html#center">center</a> <span class="xmlattr">display</span>="display1" <span class="xmlattr">useprojection</span>="true"/&gt;
    &lt;<a href="BasicTags.html#pause">pause</a> <span class="xmlattr">seconds</span>="10"/&gt;

    &lt;<a href="BasicTags.html#echo">echo</a> <span class="xmlattr">message</span>="Center at the center of the given displays projection"/&gt;
    &lt;<a href="DataAndDisplays.html#center">center</a> <span class="xmlattr">display</span>="display1" <span class="xmlattr">useprojection</span>="false"/&gt;
    &lt;<a href="BasicTags.html#pause">pause</a> <span class="xmlattr">seconds</span>="10"/&gt;

&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
<a href="center.isl"><img src="Folder.gif" border="0">center.isl</a>
</pre></blockquote>
<a name="displayattr" id="displayattr"></a> Using the <em>display</em> attribute specifies a display control to use. This can take two forms. First, you can specify a simple text pattern that we try to match on the displays id. The id can be set from the display controls property dialog.
<pre>
display="some name"
</pre>
The second method is to specify a class name or partial class name:
<pre>
display="class:ucar.unidata.idv.TrackControl"
or:
display="TrackControl"
</pre>
<div class="childlist"></div>
<hr><div class="pagesubsubtitle">&lt;<a name="viewpoint"></a><i>viewpoint</i>&gt; Change the viewpoint or aspect ratio of a view</div> &lt;viewpoint <br>&nbsp;&nbsp;&nbsp;&nbsp;rotx=&quot;Rotation X&quot;

<br>&nbsp;&nbsp;&nbsp;&nbsp;roty=&quot;Rotation Y&quot;
<br>&nbsp;&nbsp;&nbsp;&nbsp;rotz=&quot;Rotation Z&quot;
<br>&nbsp;&nbsp;&nbsp;&nbsp;transx=&quot;Translation X&quot;
<br>&nbsp;&nbsp;&nbsp;&nbsp;transy=&quot;Translation Y&quot;
<br>&nbsp;&nbsp;&nbsp;&nbsp;transz=&quot;Translation Z&quot;
<br>&nbsp;&nbsp;&nbsp;&nbsp;scale=&quot;Scale&quot;

<br>&nbsp;&nbsp;&nbsp;&nbsp;aspectx=&quot;Aspect ratio x&quot;
<br>&nbsp;&nbsp;&nbsp;&nbsp;aspecty=&quot;Aspect ratio y&quot;
<br>&nbsp;&nbsp;&nbsp;&nbsp;aspectz=&quot;Aspect ratio z&quot;
<br>&nbsp;&nbsp;&nbsp;&nbsp;tilt=&quot;Tilt degrees&quot;
<br>&nbsp;&nbsp;&nbsp;&nbsp;azimuth=&quot;Asimuth degrees&quot;
&gt;<p>
The <i>viewpoint</i> tag comes in a number of  forms, depending on the attributes:


<blockquote><pre>&lt;?xml <span class="xmlattr">version</span>="1.0&quot; <span class="xmlattr">encoding</span>="ISO-8859-1&quot;?&gt;
&lt;<a href="BasicTags.html#isl">isl</a> <span class="xmlattr">debug</span>="true&quot; <span class="xmlattr">loop</span>="1&quot; <span class="xmlattr">offscreen</span>="false&quot; <span class="xmlattr">sleep</span>="60.0minutes&quot;&gt;

  &lt;<a href="DataAndDisplays.html#bundle">bundle</a> <span class="xmlattr">clear</span>="true&quot; <span class="xmlattr">file</span>="${islpath}/test.xidv&quot; <span class="xmlattr">wait</span>="true&quot;/&gt;
  &lt;<a href="BasicTags.html#pause">pause</a> <span class="xmlattr">seconds</span>="5&quot;/&gt;

<span class="xmlcomment">&lt;!-- Specify a rotation, translation and scale. These values are shown in the Aspect Ratio tab of the View Manager properties dialog  --&gt;</span>
  &lt;<a href="DataAndDisplays.html#viewpoint">viewpoint</a>  <span class="xmlattr">rotx</span>="75&quot; <span class="xmlattr">roty</span>="62&quot; <span class="xmlattr">rotz</span>="-3.3&quot; <span class="xmlattr">scale</span>="0.399&quot; <span class="xmlattr">transx</span>="0.0&quot; <span class="xmlattr">transy</span>="0.0&quot; <span class="xmlattr">transz</span>="0.0&quot;/&gt;

  &lt;<a href="BasicTags.html#pause">pause</a> <span class="xmlattr">seconds</span>="5&quot;/&gt;

<span class="xmlcomment">&lt;!-- You can also set the aspect ratio  --&gt;</span>
  &lt;<a href="DataAndDisplays.html#viewpoint">viewpoint</a>  <span class="xmlattr">aspectx</span>="2&quot; <span class="xmlattr">aspecty</span>="5&quot; <span class="xmlattr">aspectz</span>="10&quot;/&gt;

  &lt;<a href="BasicTags.html#pause">pause</a> <span class="xmlattr">seconds</span>="5&quot;/&gt;

<span class="xmlcomment">&lt;!-- You can also specify a tilt and azimuth. This is the same as you can do interactively in the viewpoint dialog --&gt;</span>
  &lt;<a href="DataAndDisplays.html#viewpoint">viewpoint</a>  <span class="xmlattr">tilt</span>="45&quot; <span class="xmlattr">azimuth</span>="180&quot;/&gt;

  &lt;<a href="BasicTags.html#pause">pause</a> <span class="xmlattr">seconds</span>="5&quot;/&gt;

&lt;/<a href="BasicTags.html#isl">isl</a>&gt;
<a href="viewpoint.isl"><img src="Folder.gif" border="0">viewpoint.isl</a></pre>
</blockquote>

The rot/trans/scale values can be viewed in the Aspect Ratio tab of the View Manager properties dialog.
<!-- InstanceEndEditable -->
<div class="BottomTitleNav">
  <hr align="center">
  <p class="style2" style="text-align:left; "> 
  	[<!-- InstanceBeginEditable name="GoToPrevious2" --><a href="FileTags.html">Go to Previous</a><!-- InstanceEndEditable -->] 
	<span style="padding-left: 15px; "> 
	[<!-- InstanceBeginEditable name="GoToNext2" --><a href="ImagesAndMovies.html">Go to Next</a><!-- InstanceEndEditable -->] 
	</span></p>
</div>
</body>
<!-- InstanceEnd --></html>
