<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><!-- InstanceBegin template="/Templates/mcv_guide.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>Scripting with Jython</title>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="head" -->
<!-- InstanceEndEditable -->
<link rel="stylesheet" href="/mcidas/doc/mcv_guide/mcidasv.css" charset="ISO-8859-1" type="text/css">
<!-- InstanceBeginEditable name="CurrentFile" -->
<script language="javascript" type="text/javascript">
function setParentPage() { if (parent.setPage) parent.setPage('isl/JythonISL.html',true); }
</script>
<!-- InstanceEndEditable -->
<style type="text/css">
<!--
.style1 {font-size: large;}
.style2 {font-size: small;}
-->
</style>
</head>
<body onLoad="setParentPage();">
<div class="TopTitleNav">
  <p class="style2" style="text-align:left; "> 
  	[<!-- InstanceBeginEditable name="GoToPrevious" --><a href="Output.html">Go to Previous</a><!-- InstanceEndEditable -->]
	<span style="padding-left: 15px; "> 
	[<!-- InstanceBeginEditable name="GoToNext" --><a href="Summary.html">Go to Next</a><!-- InstanceEndEditable -->] 
	</span> </p>
  <hr align="center">
</div>
<!-- InstanceBeginEditable name="MainContent" -->
<div class="pagetitle">Scripting with Jython</div>
<div class="pagesubtitle">Jython and ISL</div>
McIDAS-V also supports writing scripts in Jython. This means that you can create a Jython script that includes calls to special methods (defined below), and also does "normal" Jython things.
<p><strong>Please Note: Some of the APIs described below will likely change in the coming months!</strong></p>
<p>To start with, here is an <a href="screencapture.py">example Python script</a>. This example script loads a bundle in the background containing a loop of images. It then saves an image and a movie. The image saved is the first image of the loop. At this point, each individual image within a loop can not be saved through this method.</p>
<p>Scripting in Jython allows for flexibility and a more "programming" flavor for McIDAS-V scripting, though you can still do much of the functionality using Jython that you can do using ISL. The benefit of the ISL is that it is more declarative and requires (hopefully) less knowledge of programming.</p>
<p>To run McIDAS-V with a Jython script, do:</p>
<pre>
runMcV -islfile your-script.py
</pre>
<p>Below, each of the available methods in the Jython scripting interface will be described.</p>
<ul>
<li><strong>setOffScreen(value)</strong></li>
<blockquote>
If you want to do your rendering in the "background", then the <em>value</em> should be set to 1 (true). If you want the window(s) to pop-up, set the <em>value</em> to 0 (false).</blockquote>
<li><strong>setDebug(value)</strong></li>
<blockquote>
To enable some debug during your development, set the <em>value</em> to 1 (true).</blockquote>
<li><strong>loadBundle(filename, data_files)</strong></li>
<blockquote>
Loads a bundle with the given <em>filename</em>. You may also provide a dictionary of <em>datasource:file</em> items similar to the ISL <a href="DataAndDisplays.html#setfiles">setfiles</a>.</blockquote>
<li><strong>pause()</strong></li>
<blockquote>
Pause until all displays have been created. This is useful between <em>loadBundle()</em> and <em>writeImage()</em> for example.</blockquote>
<li><strong>writeImage(filename, parameters, quality)</strong></li>
<blockquote>
Write out an image file. The <em>filename</em> should have the file extension of the type of image file you want to write (.jpg, .gif, .png).</blockquote>
<blockquote>The <em>parameters</em> variable is a string that contains any parameter information (see the <a href="ImagesAndMovies.html#imagesmanipulation">ISL description of parameters)</a> It is in the form:</blockquote>
<blockquote><pre>
"clip north=40; matte background=green top=20; resize height=300 width=300"
</pre></blockquote>
<blockquote>The <em>quality</em> value is 1.0 for the best, down to 0.0 for, well, no quality at all...</blockquote>
</li>
<li><strong>writeMovie(filename, parameters)</strong> </li>
<blockquote>Write out the display as a movie. The <em>filename</em> should have the file extension of the type of image file you want to write (.mov)</blockquote>
<blockquote>The <em>parameters</em> variable is a string that contains any parameter information (see the <a href="ImagesAndMovies.html#imagesmanipulation">ISL description of parameters)</a> It is in the form:</blockquote>
<blockquote><pre>
"clip north=40; matte background=green top=20; resize height=300 width=300"
</pre></blockquote>
<li>An alternative way to get an Image, manipulate it and then save it:</li>
<ul>
<li><strong>getImage()</strong></li>
<li><strong>resizeImage(image, width, height)</strong></li>
<li><strong>matteImage(image, color, top, bottom, left, right)</strong></li>
<li><strong>df = findDisplayControl(id)</strong> then "dc.getImage()"</li>
<li><strong>writeImageToFile(image, filename)</strong></li>
</ul>
</ul>
<!-- InstanceEndEditable -->
<div class="BottomTitleNav">
  <hr align="center">
  <p class="style2" style="text-align:left; "> 
  	[<!-- InstanceBeginEditable name="GoToPrevious2" --><a href="Output.html">Go to Previous</a><!-- InstanceEndEditable -->] 
	<span style="padding-left: 15px; "> 
	[<!-- InstanceBeginEditable name="GoToNext2" --><a href="Summary.html">Go to Next</a><!-- InstanceEndEditable -->] 
	</span></p>
</div>
</body>
<!-- InstanceEnd --></html>
