<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><!-- InstanceBegin template="/Templates/mcv_guide.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>Performance Tuning</title>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="head" -->
<!-- InstanceEndEditable -->
<link rel="stylesheet" href="/mcidas/doc/mcv_guide/mcidasv.css" charset="ISO-8859-1" type="text/css">
<!-- InstanceBeginEditable name="CurrentFile" -->
<script language="javascript" type="text/javascript">
function setParentPage() { if (parent.setPage) parent.setPage('misc/PerformanceTuning.html',true); }
</script>
<!-- InstanceEndEditable -->
<style type="text/css">
<!--
.style1 {font-size: large;}
.style2 {font-size: small;}
-->
</style>
</head>
<body onLoad="setParentPage();">
<div class="TopTitleNav">
  <p class="style2" style="text-align:left; "> 
  	[<!-- InstanceBeginEditable name="GoToPrevious" --><a href="CommandLineArguments.html">Go to Previous</a><!-- InstanceEndEditable -->]
	<span style="padding-left: 15px; "> 
	[<!-- InstanceBeginEditable name="GoToNext" --><a href="SourceBuild.html">Go to Next</a><!-- InstanceEndEditable -->] 
	</span> </p>
  <hr align="center">
</div>
<!-- InstanceBeginEditable name="MainContent" -->
<div class="pagetitle">Performance Tuning</div>
<div class="overview">If you are running into issues with memory consumption or slow response of McIDAS-V, there are several things you can do.</div>
The amount of memory used by McIDAS-V will depend on the size of the datasets you use and the types of displays. Datasets rendered as 2D depictions (plan views - contours or color shaded displays) use much less memory than 3D displays (isosurfaces, cross sections). Large datasets (images, dense grids) will use much more memory.
<p>There are several features in McIDAS-V that allow you to more efficiently view large datasets:</p>
<ul class="childlist">
<li><a href="#subset">Temporal/Spatial Subset of Data</a></li>
<li style="list-style: none">Subsetting the data before display reduces the memory and display time</li>
<li><a href="#heap">Memory allocation</a></li>
<li style="list-style: none">Change the amount of memory allocated to McIDAS-V</li>
<li><a href="#cache">Data Caching</a></li>
<li style="list-style: none">Data caching uses more memory</li>
<li><a href="#maxsize">Maximum grid/image size</a></li>
<li style="list-style: none">Reducing the maximum size of a display can reduce the memory used</li>
<li><a href="#fastrender">Fast Rendering</a></li>
<li style="list-style: none">Fast Rendering reduces memory and time at the expense of accuracy</li>
</ul>
<a name="subset" id="subset"></a>
<div class="pagesubtitle">Temporal/Spatial Subset of Data</div>
<p>Some data sources allow you to subset the data temporally and spatially. You can set these properties for all fields in a dataset through the <code class="menu">Properties</code> menu of the data source (double click on the Data Source in the <code class="command">Field Selector</code>) or you can set these for individual field using the tabs in the lower right corner of the <code class="command">Field Selector</code>. For more information, see the <a href="../data/DataSourceProperties.html">Data Source Properties</a> section of McIDAS-V User's Guide.</p>
<p><a name="heap" id="heap"></a></p>
<div class="pagesubtitle">Memory allocation</div>
By default, McIDAS-V allocates 512 megabytes of maximum memory for Java. This is usually the optimum amount for a Windows system with 1 gigabyte of physical memory (RAM). Windows takes up half of that anyway and once Windows has to start swapping, performance severely degrades. On a Linux system, you can probably get away with 700m for 1 Gb of memory as it does a much better job of swapping. All this also depends on what else you are running on the machine and how much memory those applications use.
<p>If your system has more than 1 Gb of memory, increasing the amount available to McIDAS-V can improve performance for displaying large datasets. You change the amount of memory used by McIDAS-V by editing the <strong>Maximum Heap Size</strong> in the <strong>Advanced</strong> tab of the Preferences by selected <strong>Edit-&gt;Preferences...</strong> from the main menu. The new amount of memory will be saved and used in subsequent sessions. Do not use the maximum amount of memory on your machine as some is needed for the operating system itself. If the system has to use swap memory, performance will degrade as well. It is recommended to set this to no more than 1250 MB (<em>i.e. -Xmx1250m</em>). For more information see the <a href="../Starting.html#run">Running McIDAS-V</a> section of the McIDAS-V User's Guide.</p>
<a name="cache" id="cache"></a>
<div class="pagesubtitle">Data Caching</div>
<p>By default, McIDAS-V caches the data used for a display in memory. If a field is used more than once for several displays, caching the data prevents an additional reading from of the data from disk or a remote server. If you are only displaying/using a field (i.e. not using it for multiple displays or calculations), you can keep McIDAS-V from caching it in memory. You can turn off data caching by unchecking the <code class="command">Cache data in memory</code> checkbox on the <code class="command">Data &amp; Formats</code> tab of the user preferences (accessible from the <code class="menu">Edit-&gt;Preferences</code> menu).</p>
<p><a name="maxsize" id="maxsize"></a></p>
<div class="pagesubtitle">Maximum grid/image size</div>
<p>You can also set the maximum size of a grid or image that will be displayed. This will allow you to download a large image or grid, but it will be re-sampled before displaying if it is larger than the maximum size you have asked for. You can set the maximum image/grid size under the <code class="command">Data &amp; Formats</code> tab of the user preferences (accessible from the <code class="menu">Edit-&gt;Preferences</code> menu).</p>
<p><a name="fastrender" id="fastrender"></a></p>
<div class="pagesubtitle">Fast Rendering</div>
<p>By default, McIDAS-V will try to adjust the data renderings to account for projection seams. This is computationally intensive in some cases and slows down the display of data. When you set your preference to "Use Fast Rendering" (under the <code class="command">General</code> tab of the user preferences (<code class="menu">Edit-&gt;Preferences</code> menu)), McIDAS-V will not try to account for the projection seams. If you are displaying data in its native projection, this will result in faster rendering of the data depiction. However, if you have several displays of data, each from a different data source and on a different projection, you may see anomalies in the displays (spurious lines, portions of images). At that point, you can turn off fast rendering for a particular display using the <code class="menu">Edit-&gt;Properties</code> menu of the Display Control for that display, or set your system preference back to not use fast rendering.</p>

<br>
<!-- InstanceEndEditable -->
<div class="BottomTitleNav">
  <hr align="center">
  <p class="style2" style="text-align:left; "> 
  	[<!-- InstanceBeginEditable name="GoToPrevious2" --><a href="CommandLineArguments.html">Go to Previous</a><!-- InstanceEndEditable -->] 
	<span style="padding-left: 15px; "> 
	[<!-- InstanceBeginEditable name="GoToNext2" --><a href="SourceBuild.html">Go to Next</a><!-- InstanceEndEditable -->] 
	</span></p>
</div>
</body>
<!-- InstanceEnd --></html>
